Slip--1
1. Create a servlet for a login page. If the username and password are correct then it says message “Hello <username>” else a message “login failed”
2. Develop a simple JSP application to display values obtained from the use of implicit objects of various types.

Ans -1
index.html

<html>
<head>
<title>Login Form</title>
</head>

<form action="LoginServlet" >

Enter User ID<input type="text" name="txtId"><br>

Enter Password<input type="password" name="txtPass"><br>

<input type="reset">
<input type="submit" value=" Click to Login " >
</form>
</html>


LoginServlet.java

package mypack;

import java.io.*;

import javax.servlet.ServletException;

import javax.servlet.http.*;

public class LoginServlet extends HttpServlet {

public void doGet(HttpServletRequest request, HttpServletResponse response)

throws ServletException, IOException {
response.setContentType("text/html;charset=UTF-8);
PrintWriter out = response.getWriter();
out.println("<html><head><title>Servlet LoginServlet</title></head>");
 String uname = request.getParameter("txtId");

String upass = request.getParameter("txtPass");

if(uname.equals("admin") && upass.equals("12345"))
{
out.println("<body bgcolor=blue >"); 
out.println("<h1> Welcome !!! "+uname+"</h1>"); 
}
else{
out.println("<body bgcolor=red >");
out.println("<h1> Login Fail !!! </h1>");
} 
 out.println("</body></html>");

}

}



Ans ---2


<%@page contentType="text/html" pageEncoding="UTF-8"%>

<html>
<Head>
<title>JSP Page</title>
</head>
<body>
<h1>Use of Intrinsic Objects in JSP</h1>
<h1>Request Object </h1>
Query String <%=request.getQueryString() %><br>
Context Path <%=request.getContextPath() %><br>
Remote Host <%=request.getRemoteHost()  %><br>
<h1>Response Object </h1>
Character Encoding Type <%=response.getCharacterEncoding() %><br>
Content Type <%=response.getContentType() %><br> Locale <%=response.getLocale() %><br>
<h1>Session Object </h1>
ID <%=session.getId() %><br>
Creation Time <%=new java.util.Date(session.getCreationTime()) %><br>
Last Access Time<%=new java.util.Date(session.getLastAccessedTime())%>
%><br>
 </body>
</html> 



Slip---2

1. Create a registration servlet in Java using JDBC. Accept the details such as Username, Password, Email, and Country from the user using HTML Form and store the registration details in the database.
2. Develop a JSP application to allow the user to modify the registration details after the valid authentication.

Index.html
<!DOCTYPE html>
<html>
 <head>
 <title>Practical 1 C</title>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 </head>
 <body>
 <form action="ServReg" method="post">
 <table cellpadding="1">
 <thead>
 <tr>
 <th><b>REGISTRATION FORM</b></th>
 </tr>
 </thead>
 <tbody>
 <tr>
 <td><b>First Name : </b></td>
 <td><input type="text" name="fname" value=""></td>
 </tr>
 <tr>
 <td><b>Last Name : </b></td>
 <td><input type="text" name="sname" value=""></td>
 </tr>
 <tr>
 <td><b>Zip Code : </b></td>
 <td><input type="text" name="zip" value=""></td>
 </tr>
 <tr>
 <td><b>User Name : </b></td>
 <td><input type="text" name="uid" value=""></td>
 </tr>
 <tr>
 <td><b>Password : </b></td>
 <td><input type="password" name="pwd" value=""></td>
 </tr>
 <tr>
 <td><b>Confirm Password : </b></td>
 <td><input type="password" name="pwd1" value=""></td>
 </tr>
 <tr>
 <td><b>Town : </b></td>
 <td><input type="text" name="town" value=""></td>
 </tr>
 <tr>
 <td><b>Country : </b></td>
 <td><input type="text" name="country" value=""></td>
 </tr>
 <tr>
 <td><input type="submit" value="Submit"></td>
 </tr>
 </tbody>
 </table>
 </form>
 </body>
</html>



ServReg.java
import java.io.IOException;
import java.io.PrintWriter;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.sql.*;
@WebServlet(urlPatterns = {"/ServReg"})
public class ServReg extends HttpServlet {
 protected void doPost(HttpServletRequest request, HttpServletResponse response)
 throws ServletException, IOException {
 response.setContentType("text/html;charset=UTF-8");
 try (PrintWriter out = response.getWriter()) {
 
 String connectionURL = "jdbc:mysql://localhost:3306/reg";
 Connection connection = null;
 ResultSet rs;
 response.setContentType("text/html;charset=UTF-8");
 String uid = request.getParameter("uid");
 String fname = request.getParameter("fname");
 String sname = request.getParameter("sname");
 String pwd = request.getParameter("pwd");
 String pwd1 = request.getParameter("pwd1");
 String town = request.getParameter("town");
 String country = request.getParameter("country");
 String zip = request.getParameter("zip");
 
 try{
 Class.forName("org.gjt.mm.mysql.Driver");
 connection = DriverManager.getConnection(connectionURL,"root","root123");
 String sql = "insert into Register values(?,?,?,?,?,?,?,?)";
 PreparedStatement pst = connection.prepareStatement(sql);
 pst.setString(1,uid); 
 pst.setString(2,fname); 
 pst.setString(3,sname); 
 pst.setString(4,pwd); 
 pst.setString(5,pwd1); 
 pst.setString(6,town); 
 pst.setString(7,country); 
 pst.setString(8,zip);
 int numRowsChanged = pst.executeUpdate();
 out.println("Welcome : ");
 out.println("'"+fname+"'");
 pst.close();
 }
 catch(ClassNotFoundException e){
 out.println("Couldnt Load database driver : "+e.getMessage());
 }
 catch(SQLException e){
 out.println("SQL Exception caught : "+e.getMessage());
 }
 catch(Exception e){
 out.println(e);
 }
 finally{
 try{
 if(connection != null)
 connection.close();
 }
 catch(SQLException ignored){
 out.println(ignored);
 }
 }
 }
 }
}


Ans-2
index.jsp: 
<!DOCTYPE html> 
<html> 
    <head> 
        <meta https-equiv="Content-Type" content="text/html;charset=UTF-8"> 
              <title>JSP Registration</title> 
    </head> 
    <body> 
        <h1>Registration Form</h1> 
        <form action="val.jsp" method="post"> 
              <table style="width:50%"> 
              <tr> 
              <td>Full Name</td> 
              <td><input type="text" name="fullname"/></td> 
              </tr><tr> 
              <td>Age</td> 
              <td><input type="text" name="age"/></td> 
              </tr><tr> 
              <td>E-Mail</td> 
              <td><input type="text" name="email" size="20"/></td> 
              </tr><tr> 
               <td>Gender</td> 
              <td><input type="radio" name="gender" value="Male">Male 
              <input type="radio" name="gender" value="Female"/>Female 
              </td> 
              </tr><tr> 
               <td>Hobbies</td> 
              <td><input type="checkbox" name="hb" value="Acting"/>Acting 
              <input type="checkbox" name="hb" value="Dancing"/>Dancing 
              <input type="checkbox" name="hb" value="Singing"/>Singing 
              <input type="checkbox" name="hb" value="Drawing"/>Drawing 
              </td> 
              </tr> 
              </table> 
              <input type="submit" value="Register"/> 
              </form> 
    </body> 
</html> 

val.jsp: 
<%@page language="java" contentType="text/html" pageEncoding="UTF-8" %> 
<%! 
    int ageInNumbers; 
private static final String EMAIL_REGEX="^[\\w-\\+]+(\\.[\\w]+)*@[\\w-]+(\\.[\\w]+)*(\\.[a-z]{2,})$"; 
%> 

<% 
    String name=request.getParameter("fullname"); 
    String age=request.getParameter("age"); 
    String email=request.getParameter("email"); 
    String gender=request.getParameter("gender"); 
    String hb[]=request.getParameterValues("hb"); 
     
if (name == null || name.isEmpty() || age == null || age.isEmpty() || email == null || email.isEmpty() || gender == null 
|| gender.isEmpty()) { 
    out.println("<font color=red>Please fill all the fields</font><br>"); 
} 
if(!email.matches(EMAIL_REGEX)){ 
    out.println("<font color=red>Correct Your Email Address</font><br>"); 
} 
try{ 
    ageInNumbers=Integer.parseInt(age.trim()); 
} 
catch(NumberFormatException e){ 
    out.println("<font color=red>Age must be numbers</font><br>"); 
} 
if (ageInNumbers < 18 || ageInNumbers > 60) { 
    out.println("<font color=red>Age must be between 18 and 60</font><br>"); 
} 
%> 
 
Your Extended Information is as follows:<br><br> 
Full Name<b>:<%=name%></b><br> 
Age<b>:<%=age%></b><br> 
EMail<b>:<%=email%></b><br> 
Gender<b>:<%=gender%></b><br> 
Hobbies<b>: 
    <% 
        if(hb!=null && hb.length!=0){ 
            for(int i=0;i<hb.length;i++){ 
                out.println(hb[i]); 
            } 
        } 
        %> 
 

web.xml: 
<?xml version="1.0" encoding="UTF-8"?> 
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web
app_3_1.xsd" 
  version="3.1"> 
    <welcome-file-list> 
        <welcome-file>index.jsp</welcome-file> 
</welcome-file-list> 
</web-app>

Slip 3
1. Create a JSP application to demonstrate the use of JSTL.
2. Develop simple application to demonstrate accessing Session Bean using EJB.(currency convertor)

Ans-1
Hello.jsp 
<%--  
    Document   : hello 
    Created on : Aug 26, 2024, 8:34:58 AM 
    Author     : admin --%> 
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %> 
<%@page contentType="text/html" pageEncoding="UTF-8"%> 
<!DOCTYPE html> 
<html> 
    <head> 
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
        <title>JSP Page</title></head><body> 
        <h1>T053 Sonu Yadav</h1> 
    <c:forEach var ="j" begin ="1" end="3"> 
        Item <c:out value="${j}"/> <p> 
        </c:forEach>    </body> </html>

Ans-2

index.html ------------------------

<html><head><title>Currency Converter</title></head> <body>
<form action="CCServlet" >
Enter Amount <input type="text" name="amt"><br> Select Conversion Type
<input type="radio" name="type" value="r2d" checked>Rupees to Dollar
<input type="radio" name="type" value="d2r" >Dollor to Rupees<br>
<input type="reset" ><input type="submit" value="CONVERT" >
</form>
</body>
</html>





-------------------------------- CCServlet.java --------------------------

package mypack;

import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import javax.ejb.EJB;
import mybeans.CCBean;

public class CCServlet extends HttpServlet {
@EJB CCBean obj;
public void doGet(HttpServletRequest request, HttpServletResponse response)
throws ServletException, IOException {
response.setContentType("text/html;charset=UTF-8");
PrintWriter out = response.getWriter();
double amt = Double.parseDouble(request.getParameter("amt"));
if(request.getParameter("type").equals("r2d")) {
out.println("<h1>"+amt+ " Rupees = "+obj.r2Dollor(amt)+" Dollors</h1>");
}
if(request.getParameter("type").equals("d2r"))
{
out.println("<h1>"+amt+ " Dollors = "+obj.d2Rupees(amt)+" Rupees</h1>");
}
}
}


------------------------- CCBean ----------------------------
Create a stateless session bean

package mybeans;

import javax.ejb.Stateless;
@Stateless
public class CCBean {
public CCBean(){}
public double r2Dollor(double r)
{
return r/65.65;
}
public double d2Rupees(double d)
{
return d*65.65;
 }
}


Slip 4
1. Develop simple EJB application to demonstrate Servlet Hit count using Singleton Session Beans.
2. Write a servlet code to store the biodata details of a user into the database. (Name, age, address, hobbies, gender, Qualification).


Ans-1
index.html: 
<html> <head>  
        <meta charset="UTF-8">  
        <meta name="viewport" content="width=device-width, initial-scale=1.0">  
        <meta http-equiv="Refresh" content="0; URL=ServletClient"> </head>  
</html> 
 
STHitCountBean.java: 
package ejb;  
import javax.ejb.Singleton;  
@Singleton  
public class STHitCountBean {  
    private int hitCount;  
    public synchronized int getCount()  
    {  
    return hitCount++;  
    }  
} 
 
CCClient.java: 
package servlet;  
import ejb.STHitCountBean;  
import java.io.*;  
import javax.ejb.EJB;  
import javax.servlet.ServletException;  
import javax.servlet.annotation.WebServlet;  
import javax.servlet.http.*;  
@WebServlet(name = "ServletClient", urlPatterns = {"/ServletClient"})  
public class CCClient extends HttpServlet {  
@EJB STHitCountBean obj;  
@Override  
protected void service (HttpServletRequest req, HttpServletResponse res) throws ServletException,  
IOException  
{  
    res.setContentType("text/html");  
    PrintWriter out=res.getWriter();  
    out.print("<b>Number of times this Servlet is accessed </b>: "+obj.getCount());  
    out.println("<br>T037 Abhay Sharma"); 
}  
}


Ans-2

CREATE TABLE user_biodata (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100),
    age INT,
    address VARCHAR(255),
    hobbies VARCHAR(255),
    gender VARCHAR(10),
    qualification VARCHAR(100)
);

index.html
<!DOCTYPE html>
<html>
<head>
    <title>User Biodata Form</title>
</head>
<body>
    <form action="BiodataServlet" method="post">
        Name: <input type="text" name="name"><br>
        Age: <input type="number" name="age"><br>
        Address: <input type="text" name="address"><br>
        Hobbies: <input type="text" name="hobbies"><br>
        Gender: 
        <select name="gender">
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
        </select><br>
        Qualification: <input type="text" name="qualification"><br>
        <input type="submit" value="Submit">
    </form>
</body>
</html>

Biodataservlet.java

import java.io.IOException;
import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/BiodataServlet")
public class BiodataServlet extends HttpServlet {
    private static final long serialVersionUID = 1L;

    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        response.setContentType("text/html");
        PrintWriter out = response.getWriter();

        String name = request.getParameter("name");
        int age = Integer.parseInt(request.getParameter("age"));
        String address = request.getParameter("address");
        String hobbies = request.getParameter("hobbies");
        String gender = request.getParameter("gender");
        String qualification = request.getParameter("qualification");

        try {
            Class.forName("com.mysql.cj.jdbc.Driver");
            Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/your_database", "your_username", "your_password");

            String query = "INSERT INTO user_biodata (name, age, address, hobbies, gender, qualification) VALUES (?, ?, ?, ?, ?, ?)";
            PreparedStatement ps = con.prepareStatement(query);
            ps.setString(1, name);
            ps.setInt(2, age);
            ps.setString(3, address);
            ps.setString(4, hobbies);
            ps.setString(5, gender);
            ps.setString(6, qualification);

            int result = ps.executeUpdate();
            if (result > 0) {
                out.println("Biodata details saved successfully!");
            } else {
                out.println("Failed to save biodata details.");
            }

            ps.close();
            con.close();
        } catch (ClassNotFoundException | SQLException e) {
            e.printStackTrace();
            out.println("Error: " + e.getMessage());
        } finally {
            out.close();
        }
    }
}

web.xml

<web-app>
    <servlet>
        <servlet-name>BiodataServlet</servlet-name>
        <servlet-class>BiodataServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>BiodataServlet</servlet-name>
        <url-pattern>/BiodataServlet</url-pattern>
    </servlet-mapping>
</web-app>


Slip 5
1. Create a servlet that uses Cookies to store the number of times a user has visited servlet.
2. Develop a JSP application to allow the user to modify the registration details after the valid authentication.
Ans-1
indexhtml

<!DOCTYPE html> 
<html> 
    <head> 
        <title>Cookie Demo</title> 
        <meta charset="UTF-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    </head> 
    <body> 
        <form action = "Page1">Enter Your Name<input type = "text" name = "txtName"><br> 
            <input type = "submit" value = "~~~Click to Enter~~~"> 
        </form> 
    </body> 
</html>

Page1.html
import java.io.*; 
import javax.servlet.*; 
import javax.servlet.annotation.WebServlet; 
import javax.servlet.http.*; 
 
@WebServlet(urlPatterns = {"/Page1"}) 
public class Page1 extends HttpServlet { 
    @Override 
    public void doGet(HttpServletRequest request, HttpServletResponse response) 
            throws ServletException, IOException { 
        PrintWriter out=response.getWriter(); 
        out.println("<html><head><title>Page1</title></head>"); 
        out.println("<body bgcolor=pink>"); 
        String uname=request.getParameter("txtName"); 
        out.println("<h1>~Welcome"+uname+"</h1>"); 
        Cookie ck1=new Cookie("Username",uname); 
        Cookie ck2=new Cookie("visit","1"); 
        response.addCookie(ck1); 
        response.addCookie(ck2); 
        out.println("<h1><a href=Page2>Click to visit Page 2</a></h1>"); 
        out.println("</body>"); 
        out.println("</html>"); 
    } 
}

Pag2.html

import java.io.*; 
import javax.servlet.*; 
import javax.servlet.annotation.WebServlet; 
import javax.servlet.http.*; 
@WebServlet(urlPatterns = {"/Page2"}) 
public class Page2 extends HttpServlet { 
    @Override 
    public void doGet(HttpServletRequest request, HttpServletResponse response) 
            throws ServletException, IOException{ 
        PrintWriter out=response.getWriter(); 
        out.println("<html><head><title>Page2</title></head>"); 
        out.println("<body bgcolor=yellow>"); 
        Cookie [] ck= request.getCookies(); 
        for(int i=0;i<ck.length;i++){ 
            if(ck[i].getName().equals("visit")){ 
                int count=Integer.parseInt(ck[i].getValue())+1; 
                out.println("<h1>Visit no: "+count+"</h1>"); 
                ck[i]=new Cookie("visit",count+""); 
                response.addCookie(ck[i]); 
            } 
            else{ 
                out.println(ck[i].getName()+"="+ck[i].getValue()); 
            } 
            out.println("<h1><a href=Page3>Click to visit page 3</a></h1>"); 
            out.println("<h1><a href=Page4>Click to visit page 4</a></h1>"); 
            out.println("<h1><a href=Page5>Click to visit page 5</a></h1>"); 
            out.println("</body>"); 
            out.println("</html>"); 
}}}

Ans-2

index.jsp: 
<!DOCTYPE html> 
<html> 
    <head> 
        <meta https-equiv="Content-Type" content="text/html;charset=UTF-8"> 
              <title>JSP Registration</title> 
    </head> 
    <body> 
        <h1>Registration Form</h1> 
        <form action="val.jsp" method="post"> 
              <table style="width:50%"> 
              <tr> 
              <td>Full Name</td> 
              <td><input type="text" name="fullname"/></td> 
              </tr><tr> 
              <td>Age</td> 
              <td><input type="text" name="age"/></td> 
              </tr><tr> 
              <td>E-Mail</td> 
              <td><input type="text" name="email" size="20"/></td> 
              </tr><tr> 
               <td>Gender</td> 
              <td><input type="radio" name="gender" value="Male">Male 
              <input type="radio" name="gender" value="Female"/>Female 
              </td> 
              </tr><tr> 
               <td>Hobbies</td> 
              <td><input type="checkbox" name="hb" value="Acting"/>Acting 
              <input type="checkbox" name="hb" value="Dancing"/>Dancing 
              <input type="checkbox" name="hb" value="Singing"/>Singing 
              <input type="checkbox" name="hb" value="Drawing"/>Drawing 
              </td> 
              </tr> 
              </table> 
              <input type="submit" value="Register"/> 
              </form> 
    </body> 
</html>


val.jsp: 
<%@page language="java" contentType="text/html" pageEncoding="UTF-8" %> 
<%! 
    int ageInNumbers; 
private static final String EMAIL_REGEX="^[\\w-\\+]+(\\.[\\w]+)*@[\\w-]+(\\.[\\w]+)*(\\.[a-z]{2,})$"; 
%>
<% 
    String name=request.getParameter("fullname"); 
    String age=request.getParameter("age"); 
    String email=request.getParameter("email"); 
    String gender=request.getParameter("gender"); 
    String hb[]=request.getParameterValues("hb"); 
     
if (name == null || name.isEmpty() || age == null || age.isEmpty() || email == null || email.isEmpty() || gender == null 
|| gender.isEmpty()) { 
    out.println("<font color=red>Please fill all the fields</font><br>"); 
} 
if(!email.matches(EMAIL_REGEX)){ 
    out.println("<font color=red>Correct Your Email Address</font><br>"); 
} 
try{ 
    ageInNumbers=Integer.parseInt(age.trim()); 
} 
catch(NumberFormatException e){ 
    out.println("<font color=red>Age must be numbers</font><br>"); 
} 
if (ageInNumbers < 18 || ageInNumbers > 60) { 
    out.println("<font color=red>Age must be between 18 and 60</font><br>"); 
} 
%> 
 
Your Extended Information is as follows:<br><br> 
Full Name<b>:<%=name%></b><br> 
Age<b>:<%=age%></b><br> 
EMail<b>:<%=email%></b><br> 
Gender<b>:<%=gender%></b><br> 
Hobbies<b>: 
    <% 
        if(hb!=null && hb.length!=0){ 
            for(int i=0;i<hb.length;i++){ 
                out.println(hb[i]); 
            } 
        } 
        %> 

 web.xml: 
<?xml version="1.0" encoding="UTF-8"?> 
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web
app_3_1.xsd" 
  version="3.1"> 
    <welcome-file-list> 
        <welcome-file>index.jsp</welcome-file> 
</welcome-file-list> 
</web-app> 



Slip 6
1. Create a simple calculator application using servlet.
2. Write a JSP to accept eno, ename and salary. Insert these records in emp. (Create the emp table with these three fields).

Ans-1

index.html

<html>
<head>
<title>Calculator App</title>
</head>
<body> 
<form action="CalculatorServlet" method="post" >
Enter First Number <input type="text" name="txtN1" ><br> Enter Second Number <input type="text" name="txtN2" ><br> Select an Operation
<input type="radio" name="opr" value="+">ADDTION 
<input type="radio" name="opr" value="*">MULTIPLY <input type="radio" name="opr" value="/">DIVIDE
<input type="radio" name="opr" value="-"> Substraction
 <br> <input type="reset">
<input type="submit" value="Calculate" >
</form>
</body>
</html>


CalculatorServlet.java



package mypack;


import java.io.IOException;


import java.io.PrintWriter;


import javax.servlet.ServletException;


import javax.servlet.http.HttpServlet;


import javax.servlet.http.HttpServletRequest;


import javax.servlet.http.HttpServletResponse;


public class CalculatorServlet extends HttpServlet {


public void doGet(HttpServletRequest request, HttpServletResponse response)


throws ServletException, IOException { response.setContentType("text/html;charset=UTF-8);
PrintWriter out = response.getWriter();


out.println("<html><head><title>Servlet CalculatorServlet</title></head><body>");               double n1 = Double.parseDouble(request.getParameter("txtN1"));


double n2 = Double.parseDouble(request.getParameter("txtN2"));
double result =0;
String opr=request.getParameter("opr");
if(opr.equals("+")) result=n1+n2;
if(opr.equals("-")) result=n1-n2; 
if(opr.equals("*")) result=n1*n2; 
if(opr.equals("/")) result=n1/n2; 

out.println("<h1> Result = "+result); 
 out.println("</body></html>");
}    

} 



Ans-2

CREATE TABLE emp (
    eno INT PRIMARY KEY,
    ename VARCHAR(50),
    salary DECIMAL(10, 2)
);


addEmplyee.jsp
<%@ page import="java.sql.*" %>
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
    <title>Add Employee</title>
</head>
<body>
    <h2>Employee Registration Form</h2>
    <form action="insertEmployee.jsp" method="post">
        <label for="eno">Employee Number:</label><br>
        <input type="text" id="eno" name="eno" required><br><br>

        <label for="ename">Employee Name:</label><br>
        <input type="text" id="ename" name="ename" required><br><br>

        <label for="salary">Salary:</label><br>
        <input type="text" id="salary" name="salary" required><br><br>

        <input type="submit" value="Submit">
    </form>
</body>
</html>


insertEmployee.jsp

<%@ page import="java.sql.*" %>
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
    <title>Insert Employee</title>
</head>
<body>
<%
    // Retrieve form data
    String eno = request.getParameter("eno");
    String ename = request.getParameter("ename");
    String salary = request.getParameter("salary");

    Connection conn = null;
    PreparedStatement stmt = null;

    try {
        // Load and register JDBC driver
        Class.forName("com.mysql.cj.jdbc.Driver");

        // Establish connection (adjust URL, user, and password for your database)
        conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/your_database", "your_username", "your_password");

        // SQL query to insert data into emp table
        String sql = "INSERT INTO emp (eno, ename, salary) VALUES (?, ?, ?)";

        stmt = conn.prepareStatement(sql);
        stmt.setInt(1, Integer.parseInt(eno));
        stmt.setString(2, ename);
        stmt.setBigDecimal(3, new java.math.BigDecimal(salary));

        int rowsInserted = stmt.executeUpdate();

        if (rowsInserted > 0) {
            out.println("<h3>Employee record inserted successfully!</h3>");
        } else {
            out.println("<h3>Failed to insert the employee record.</h3>");
        }

    } catch (Exception e) {
        out.println("Error: " + e.getMessage());
    } finally {
        if (stmt != null) stmt.close();
        if (conn != null) conn.close();
    }
%>
</body>
</html>







AIM(B): Develop a simple JSP application to pass values from one page to another with validations. (Name-txt, age-txt, hobbies-checkbox, email-txt, gender
radio button).  


index.jsp: 
<!DOCTYPE html> 
<html> 
    <head> 
        <meta https-equiv="Content-Type" content="text/html;charset=UTF-8"> 
              <title>JSP Registration</title> 
    </head> 
    <body> 
        <h1>Registration Form</h1> 
        <form action="val.jsp" method="post"> 
              <table style="width:50%"> 
              <tr> 
              <td>Full Name</td> 
              <td><input type="text" name="fullname"/></td> 
              </tr><tr> 
              <td>Age</td> 
              <td><input type="text" name="age"/></td> 
              </tr><tr> 
              <td>E-Mail</td> 
              <td><input type="text" name="email" size="20"/></td> 
              </tr><tr> 
               <td>Gender</td> 
              <td><input type="radio" name="gender" value="Male">Male 
              <input type="radio" name="gender" value="Female"/>Female 
              </td> 
              </tr><tr> 
               <td>Hobbies</td> 
              <td><input type="checkbox" name="hb" value="Acting"/>Acting 
              <input type="checkbox" name="hb" value="Dancing"/>Dancing 
              <input type="checkbox" name="hb" value="Singing"/>Singing 
              <input type="checkbox" name="hb" value="Drawing"/>Drawing 
              </td> 
              </tr> 
              </table> 
              <input type="submit" value="Register"/> 
              </form> 
    </body> 
</html> 
 
val.jsp: 
<%@page language="java" contentType="text/html" pageEncoding="UTF-8" %> 
<%! 
    int ageInNumbers; 
private static final String EMAIL_REGEX="^[\\w-\\+]+(\\.[\\w]+)*@[\\w-]+(\\.[\\w]+)*(\\.[a-z]{2,})$"; 
%> 
T053 Sonu Yadav                                                                      Advanced Java Technology 
<% 
    String name=request.getParameter("fullname"); 
    String age=request.getParameter("age"); 
    String email=request.getParameter("email"); 
    String gender=request.getParameter("gender"); 
    String hb[]=request.getParameterValues("hb"); 
     
if (name == null || name.isEmpty() || age == null || age.isEmpty() || email == null || email.isEmpty() || gender == null 
|| gender.isEmpty()) { 
    out.println("<font color=red>Please fill all the fields</font><br>"); 
} 
if(!email.matches(EMAIL_REGEX)){ 
    out.println("<font color=red>Correct Your Email Address</font><br>"); 
} 
try{ 
    ageInNumbers=Integer.parseInt(age.trim()); 
} 
catch(NumberFormatException e){ 
    out.println("<font color=red>Age must be numbers</font><br>"); 
} 
if (ageInNumbers < 18 || ageInNumbers > 60) { 
    out.println("<font color=red>Age must be between 18 and 60</font><br>"); 
} 
%> 
 
Your Extended Information is as follows:<br><br> 
Full Name<b>:<%=name%></b><br> 
Age<b>:<%=age%></b><br> 
EMail<b>:<%=email%></b><br> 
Gender<b>:<%=gender%></b><br> 
Hobbies<b>: 
    <% 
        if(hb!=null && hb.length!=0){ 
            for(int i=0;i<hb.length;i++){ 
                out.println(hb[i]); 
            } 
        } 
        %> 
 
web.xml: 
<?xml version="1.0" encoding="UTF-8"?> 
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web
app_3_1.xsd" 
  version="3.1"> 
    <welcome-file-list> 
        <welcome-file>index.jsp</welcome-file> 
</welcome-file-list> 
</web-app>
